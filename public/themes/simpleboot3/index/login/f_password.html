<!DOCTYPE html><html><head>	<meta charset="utf-8">	<meta http-equiv="X-UA-Compatible" content="IE=edge">	<title>忘记密码</title>	<meta name="viewport" content="initial-scale=1, maximum-scale=1">	<link rel="stylesheet" type="text/css" href="__TMPL__/public/assets/css/normalize.css" />	<link rel="shortcut icon" href="/favicon.ico">	<meta name="apple-mobile-web-app-capable" content="yes">	<meta name="apple-mobile-web-app-status-bar-style" content="black">	<link rel="stylesheet" href="http://g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">	<link rel="stylesheet" href="http://g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"></head><body><div class="page">	<header class="bar bar-nav" style="background: red;">		<a class="icon icon-left pull-left back" style=" color: white;"></a>		<h1 class="title" style="color: white;">忘记密码</h1>	</header>	<div class="content">		<!-- 这里是页面内容区 -->		<form method="post" action="">		<div class="list-block" style="margin: 10px 0px;">			<ul>				<!-- Text inputs -->				<li>					<div class="item-content">						<div class="item-media"><i class="icon icon-form-email"></i></div>						<div class="item-inner">							<div class="item-title label">手机号：</div>							<div class="item-input">								<input type="number" id="phone" name="phone" placeholder="请输入旧密码...">							</div>						</div>					</div>				</li>				<li>					<div class="item-content">						<div class="item-media"><i class="icon icon-form-password"></i></div>						<div class="item-inner">							<div class="item-title label">新密码：</div>							<div class="item-input">								<input type="password" id="new_password" name="new_password" placeholder="请输入新密码..." class="">							</div>						</div>					</div>				</li>				<li>					<div class="item-content">						<div class="item-media"><i class="icon icon-form-password"></i></div>						<div class="item-inner">							<div class="item-title label">再次输入：</div>							<div class="item-input">								<input type="password" id="new_password2" name="new_password2" placeholder="请输入..." class="">							</div>						</div>					</div>				</li>				<li>					<div class="item-content" style="height: 2.5rem;">						<div class="item-media"><i class="icon icon-form-password"></i></div>						<div class="item-inner  row">							<div class="item-title label">验证码：</div>							<div class="item-input">								<input type="text" id="yzm" class="code" placeholder="请输入验证码" required maxlength="6"/>							</div>							<p class="col-40">								<!--<a href="#" class="button button-fill button-danger code obtain generate_code" onclick="settime(this)">获取验证码</a>-->								<input type="button" class="button button-fill button-danger code obtain generate_code" value=" 获取验证码" onclick="settime(this),getCode(this);">							</p>						</div>					</div>				</li>			</ul>		</div>		<div class="content-block">			<div class="row">				<div class="col-100">					<input type="button" id="button" class="button button-big button-fill button-danger" value="提交">				</div>			</div>		</div>		</form>	</div></div><script type='text/javascript' src='http://g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script><script type='text/javascript' src='http://g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script><script type='text/javascript' src='http://g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'></script><script type="text/javascript">//    window.onload=function () {//        let code = document.getElementsByClassName("code")[0];//        code.onclick=function () {//            $.toast('正在获取验证码', 3000, 'success top');//        }//    }//倒计时var countdown=60;function settime(val) {	if (countdown == 0) {		val.removeAttribute("disabled");		val.value="获取验证码";		countdown = 60;		return false;	} else {		val.setAttribute("disabled", true);		val.value="重新发送(" + countdown + ")";		countdown--;	}	setTimeout(function() {		settime(val);	},1000);}	function getCode(){		var url = "{:url('user/VerificationCode/send')}";		var p_type = 1;		var phone = $("#phone").val();		$.ajax({			type : 'POST',			dataType : 'json',			url : url,			data : {p_type:p_type,phone:phone},			success : function(ret){				$.toast(ret.msg)			}		});	}	$("#button").click(function(){		var phone = $("#phone").val();		if(phone == ''){			$.toast('请输入手机号');			return false;		}		var new1 = $("#new_password").val();		if(new1 == ''){			$.toast('请输入新密码');			return false;		}		var new2 = $("#new_password2").val();		if(new1 != new2){			$.toast('新密码输入不一致');			return false;		}		var yzm = $("#yzm").val();		if(yzm == ''){			$.toast('请输入验证码');			return false;		}		$.post("{:url('user/change_password')}",{old_password:old,new_password:new1,new_password2:new2,yzm:yzm},function(res){			$.toast(res.msg);		})	})</script></body></html>